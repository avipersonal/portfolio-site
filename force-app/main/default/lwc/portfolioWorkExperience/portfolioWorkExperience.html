<template>
  <template lwc:if={workExperienceList}>
    <ul class="slds-timeline">
      <template for:each={workExperienceList} for:item="work">
        <li key={work.Id}>
          <div
            class="slds-timeline__item_expandable slds-timeline__item_task slds-is-open"
          >
            <span class="slds-assistive-text">Work Experience</span>
            <div class="slds-media">
              <div class="slds-media__figure">
                <button
                  class="slds-button slds-button_icon"
                  title="Toggle details for Review proposals for EBC deck with larger team and have marketing review this"
                  aria-controls="task-item-expanded-97"
                  aria-expanded="true"
                >
                  <lightning-icon
                    icon-name="utility:switch"
                    alternative-text="Expand or Collapse Section"
                    size="x-small"
                  ></lightning-icon>
                </button>
                <div
                  class="slds-icon_container slds-icon-standard-task slds-timeline__icon"
                  title="task"
                >
                  <lightning-icon
                    icon-name="standard:task"
                    alternative-text="Work Experience"
                    size="small"
                  ></lightning-icon>
                </div>
              </div>
              <div class="slds-media__body">
                <div
                  class="slds-grid slds-grid_align-spread slds-timeline__trigger"
                >
                  <div
                    class="slds-grid slds-grid_vertical-align-center slds-truncate_container_75 slds-no-space"
                  >
                    <h3
                      class="slds-truncate"
                      title="Review proposals for EBC deck with larger team and have marketing review this"
                    >
                      <strong>{work.CompanyName}</strong>
                    </h3>
                  </div>
                  <div
                    class="slds-timeline__actions slds-timeline__actions_inline"
                  >
                    <template lwc:if={work.IsCurrent}>
                      <p class="slds-timeline__date">
                        {work.JobStartDate} - Current
                      </p>
                    </template>
                    <template lwc:else>
                      <p class="slds-timeline__date">
                        {work.JobStartDate} - {work.JobEndDate}
                      </p>
                    </template>
                  </div>
                </div>
                <p class="slds-var-m-horizontal_xx-small">
                  {work.CompanyLocation}
                </p>
                <article
                  class="slds-box slds-timeline__item_details slds-theme_shade slds-var-m-top_x-small slds-var-m-horizontal_xx-small slds-var-p-around_medium"
                  id="task-item-expanded-97"
                  aria-hidden="false"
                >
                  <!-- <lightning-formatted-rich-text
                    value={work.Description}
                  ></lightning-formatted-rich-text> -->
                  <c-portfolio-string-to-html
                    content={work.Description}
                  ></c-portfolio-string-to-html>
                </article>
              </div>
            </div>
          </div>
        </li>
      </template>
    </ul>
  </template>
</template>
